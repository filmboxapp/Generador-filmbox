<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador FILMBOX</title>
  <style>
    body {
      background: #0d0d0d;
      color: white;
      font-family: 'Poppins', sans-serif;
      padding: 20px;
    }
    h1 { color: #e50914; }
    input, button, textarea {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-family: inherit;
    }
    input, textarea {
      background: #111;
      color: white;
    }
    button {
      background: #e50914;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover { background: #ff1414; }
    textarea { height: 250px; margin-top: 20px; }
    .buttons { display: flex; gap: 10px; margin-top: 10px; }
    .buttons button { flex: 1; }
  </style>
</head>
<body>

  <h1>ðŸŽ¬ Generador FILMBOX</h1>
  <p>Introduce el ID de TMDb y el link del video (por ejemplo: https://lzplayerfree.blogspot.com/?url=...):</p>

  <input type="text" id="movieId" placeholder="ID de la pelÃ­cula (por ejemplo: 939243)">
  <input type="text" id="videoLink" placeholder="Link del video (iframe o servidor)">
  
  <div class="buttons">
    <button onclick="generateHTML()">Generar HTML</button>
    <button id="copyBtn" onclick="copyHTML()" disabled>ðŸ“‹ Copiar HTML</button>
  </div>

  <textarea id="output" readonly placeholder="AquÃ­ aparecerÃ¡ el cÃ³digo HTML generado..."></textarea>

  <script>
    async function generateHTML() {
      const movieId = document.getElementById('movieId').value.trim();
      const videoLink = document.getElementById('videoLink').value.trim();
      const output = document.getElementById('output');
      const copyBtn = document.getElementById('copyBtn');
      const apiKey = 'e5c9dbb21811cb00d1294c22a659026e';

      if (!movieId || !videoLink) {
        alert('Por favor ingresa el ID de la pelÃ­cula y el link del video.');
        return;
      }

      const url = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=es-ES`;
      const response = await fetch(url);
      const data = await response.json();

      if (data.success === false) {
        output.value = 'Error: No se encontrÃ³ la pelÃ­cula. Verifica el ID.';
        copyBtn.disabled = true;
        return;
      }

      const title = (data.title || data.name || 'TÃ­tulo desconocido').toUpperCase();
      const year = (data.release_date || '').split('-')[0] || 'â€”';
      const duration = data.runtime ? `${Math.floor(data.runtime / 60)}h ${data.runtime % 60} min` : 'â€”';
      const rating = data.vote_average ? data.vote_average.toFixed(1) : 'â€”';
      const overview = data.overview || 'Sin descripciÃ³n disponible.';
      const poster = `https://image.tmdb.org/t/p/original${data.poster_path}`;

      const html = `
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FILMBOX</title>
  <style>
    body {
      background-color: #0d0d0d;
      color: #fff;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
    }
    .container { max-width: 900px; margin: auto; padding: 16px; }
    .video-container {
      background: #000; border-radius: 16px; overflow: hidden;
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
    }
    iframe { width: 100%; height: 200px; border: none; }
    .info-box {
      background: #111; border-radius: 16px; padding: 16px; margin-top: 16px;
      display: flex; gap: 16px; align-items: flex-start;
    }
    .poster { width: 100px; border-radius: 10px; box-shadow: 0 0 10px rgba(255,255,255,0.1); flex-shrink: 0; }
    .details { flex: 1; display: flex; flex-direction: column; justify-content: flex-start; }
    .details h2 { 
      margin: 0 0 8px 0; 
      font-size: 1.2rem; 
      line-height: 1.3em;
      text-transform: uppercase;
      white-space: normal;
      word-break: break-word;
      overflow-wrap: anywhere;
    }
    .icons { display: flex; gap: 16px; margin-top: 4px; color: #ccc; font-size: 0.9rem; flex-wrap: wrap; }
    .icon-item { display: flex; align-items: center; gap: 6px; }
    .icon-item svg { width: 18px; height: 18px; fill: #e50914; }
    .synopsis {
      background: #111; border-radius: 16px; padding: 16px;
      margin-top: 16px; line-height: 1.5; font-size: 0.95rem; color: #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="video-container">
      <iframe src="${videoLink}" allowfullscreen></iframe>
    </div>
    <div class="info-box">
      <img src="${poster}" alt="Poster" class="poster">
      <div class="details">
        <h2>${title}</h2>
        <div class="icons">
          <div class="icon-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H5V10h14v10ZM5 8V6h14v2H5Z"/></svg>
            <span>${year}</span>
          </div>
          <div class="icon-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0 2a10 10 0 1 1 0-20 10 10 0 0 1 0 20Zm.5-10V7h-1.5v6h5v-1.5Z"/></svg>
            <span>${duration}</span>
          </div>
          <div class="icon-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 17.27 6.18 3.73-1.64-7.03L21 9.24l-7.19-.61L12 2 10.19 8.63 3 9.24l4.46 4.73L5.82 21Z"/></svg>
            <span>${rating}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="synopsis">${overview}</div>
  </div>
</body>
</html>`;

      output.value = html.trim();
      copyBtn.disabled = false;
    }

    function copyHTML() {
      const output = document.getElementById('output');
      output.select();
      document.execCommand('copy');
      alert('âœ… CÃ³digo HTML copiado al portapapeles');
    }
  </script>

</body>
</html>
